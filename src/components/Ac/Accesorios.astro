---
const { categoria = 'accesorios', titulo = 'Productos disponiblesðŸ”¶', theme = 'default' } = Astro.props;
---


<article class="grid place-content-center w-[100vw] h-auto p-20 bg-white/85">
<section class="px-8 py-8 bg-white/80 min-h-screen shadow-rod rounded-2xl min-w-[90vw] md:max-w-[85vw]">
  <h1 class="text-watermeleon text-center text-5xl font-bold max-[500px]:text-2xl mb-6">{titulo}</h1>

  <div id="contenedor-productos" class={`grid gap-6 justify-center md:grid-cols-3 scrollbar-${theme}`} data-categoria={categoria}></div>

  <dialog id="modal" class="hidden">
    <div id="modalOverlay" class="fixed inset-0 bg-black/50 backdrop-blur-sm"></div>

    <div id="modalContent" class="relative flex flex-col h-[90vh] w-screen max-w-screen animate-scaleIn">
      <div id="imageZone" class="flex-grow relative flex items-center justify-center overflow-hidden">
        <img id="modal-img" src="" alt="Producto ampliado"
             class="block object-contain mx-auto transition-all duration-300 ease-in-out" />
      </div>
      <div id="footerZone"
           class="flex items-center justify-center gap-4 min-h-[60px] pb-[env(safe-area-inset-bottom)]">
        <button id="prevBtn" class="w-10 h-10 rounded-full bg-black/50 text-white hover:bg-black/70 transition-transform duration-300">&larr;</button>
        <button class="cerrar-btn bg-gray-800 text-white px-4 py-2 rounded-md transition-colors duration-300 hover:bg-gray-600" onclick="cerrarModal()">Cerrar</button>
        <button id="nextBtn" class="w-10 h-10 rounded-full bg-black/50 text-white hover:bg-black/70 transition-transform duration-300">&rarr;</button>
      </div>
    </div>
  </dialog>

  <script type="module" src="/js/productos.js"></script>
</section>
</article>

<style is:global>
  #contenedor-productos .producto { overflow: visible !important; }
  #contenedor-productos .galeria { -webkit-overflow-scrolling: touch; }
  #contenedor-productos .imagen-wrapper { scroll-snap-align: start; }
  .scrollbar-default::-webkit-scrollbar {
    height: 8px;
  }
  .scrollbar-default::-webkit-scrollbar-track {
    background: #e5e5e5;
  }
  .scrollbar-default::-webkit-scrollbar-thumb {
    background: var(--watermeleon);
    border-radius: 4px;
  }
  .scrollbar-blue::-webkit-scrollbar {
    height: 8px;
  }
  .scrollbar-blue::-webkit-scrollbar-track {
    background: #cce4f6;
  }
  .scrollbar-blue::-webkit-scrollbar-thumb {
    background: var(--sky-blue);
    border-radius: 4px;
  }
  .scrollbar-default {
    scrollbar-color: var(--watermeleon) #e5e5e5;
    scrollbar-width: thin;
  }
  .scrollbar-blue {
    scrollbar-color: var(--sky-blue) #cce4f6;
    scrollbar-width: thin;
  }
</style>